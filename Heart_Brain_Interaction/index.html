<!doctype html>

<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Real-time ECG-EEG-Based BCI: Cardiac Phase and Brain Activity</title>
<link rel="stylesheet" href="../assets/style.css" />
<meta name="description" content="A real-time BCI system that detects R-peaks in ECG to identify cardiac phases, synchronizing outcome presentation with diastole timing to investigate HEP variations." />
</head>
<body>
<header class="site-header">
<div class="container header-wrap">
<div class="brand">
<a href="../" class="btn btn-secondary">← Home</a>
<div>
<h1>ECG-EEG-Based BCI</h1>
<p class="tag">Real-time Cardiac Phase Detection × Brain Activity</p>
</div>
</div>
<nav class="nav">
<a href="#overview">Overview</a>
<a href="#objectives">Objectives</a>
<a href="#system">System</a>
<a href="#implementation">Implementation</a>
</nav>
</div>
</header>

<main>
<section class="hero hero--motion">
<div class="container">
<div class="hero-content">
<p class="kicker">🫀 Real-time BCI Implementation · PhiliasTidesLab Collaboration</p>
<h2 class="hero-title">Timing Within Diastole: Real-time Cardiac-Triggered BCI</h2>
<p class="hero-sub lede">Building on research showing cardiac phase affects learning, this project implements a real-time BCI system to explore timing variations <em>within</em> the diastole phase—detecting R-peaks, synchronizing EEG, and dynamically presenting outcomes at precise cardiac moments.</p>
<div class="hero-stats">
<div class="stat">
<span class="stat-number">Real-time</span>
<span class="stat-label">R-peak Detection</span>
</div>
<div class="stat">
<span class="stat-number">64 + 1</span>
<span class="stat-label">EEG + ECG Channels</span>
</div>
<div class="stat">
<span class="stat-number">LSL</span>
<span class="stat-label">Lab Streaming Layer</span>
</div>
</div>
<div class="hero-actions">
<a class="btn btn-primary" href="https://github.com/HamedGhaneS/ECG-EEG-Based-BCI" target="_blank">💻 View on GitHub</a>
</div>
</div>
</div>
</section>

<section id="overview" class="container section">
<h2>Project Overview</h2>
<div class="note">
<strong>Core Innovation:</strong> While existing research compared systole vs diastole broadly, this project digs deeper—exploring whether the <em>exact timing within diastole</em> affects brain responses to rewards. Does it matter if an outcome appears early vs late in the diastole phase?
</div>

<div style="background: linear-gradient(135deg, rgba(255,107,107,0.1), rgba(255,107,107,0.05)); border-left: 4px solid #ff6b6b; padding: 24px; margin: 32px 0; border-radius: 8px;">
<h3>From Paper to Implementation</h3>
<p style="line-height: 1.8;">The Nature Communications paper by Fouragnan et al. (2024) showed that cardiac phase timing affects neural signals during reward-based learning. This project takes that finding and asks: <strong>Can we see variations in Heartbeat-Evoked Potentials (HEP) at different points specifically within the diastole phase?</strong></p>
<p style="margin-top: 12px;">To answer this, I built a real-time BCI system that detects cardiac phases on-the-fly and synchronizes outcome presentation with precise moments in the cardiac cycle.</p>
</div>

<div class="columns">
<div class="box">
<h4>🫀 What is Diastole?</h4>
<p>The relaxation phase of the cardiac cycle (~400ms) when the heart fills with blood. Lower arousal state compared to systole (the contraction phase).</p>
</div>

<div class="box">
<h4>⚡ Heartbeat-Evoked Potential (HEP)</h4>
<p>The brain's electrical response to each heartbeat, measured via EEG. Reflects how the brain monitors cardiac activity and body states.</p>
</div>

<div class="box">
<h4>🎯 R-peak Detection</h4>
<p>The highest point in the ECG signal, marking the moment of ventricular contraction. Detecting R-peaks in real-time allows precise identification of cardiac phases.</p>
</div>
</div>
</section>

<section id="objectives" class="container section" style="background: rgba(122,162,255,0.05); padding: 60px 24px; border-radius: 20px;">
<h2>Research Objectives</h2>

<div class="columns">
<div class="card">
<div class="card-header">
<h4>🎯 Primary Goal</h4>
</div>
<p class="card-description">Determine if there is a significant effect on HEP at different points <strong>within the diastole phase</strong> in response to reward-based outcomes. Does timing within diastole matter for neural responses?</p>
</div>

<div class="card">
<div class="card-header">
<h4>🔬 Extending the Literature</h4>
</div>
<p class="card-description">The original study compared systole vs diastole. This project goes further by examining <em>fine-grained temporal variations</em> specifically within the diastole phase—exploring if early-diastole vs late-diastole outcome timing produces different HEP signatures.</p>
</div>

<div class="card">
<div class="card-header">
<h4>⚙️ Technical Implementation</h4>
</div>
<p class="card-description">Build a working real-time BCI system that can detect cardiac phases with minimal latency and present outcomes at precise moments relative to the cardiac cycle.</p>
</div>
</div>
</section>

<section id="system" class="container section">
<h2>System Architecture</h2>

<div class="columns">
<div class="box" style="border-left: 4px solid #2196f3;">
<h4>📡 Hardware Setup</h4>
<ul style="margin-top: 12px; font-size: 0.95rem;">
<li><strong>BrainAmp Amplifier:</strong> High-precision EEG/ECG acquisition</li>
<li><strong>BrainCap MR System:</strong> 64 EEG electrodes for brain activity</li>
<li><strong>1 ECG Electrode:</strong> For cardiac monitoring</li>
<li><strong>Real-time Data Acquisition:</strong> Continuous streaming of EEG + ECG</li>
</ul>
</div>

<div class="box" style="border-left: 4px solid #4caf50;">
<h4>💻 Software Stack</h4>
<ul style="margin-top: 12px; font-size: 0.95rem;">
<li><strong>Lab Streaming Layer (LSL):</strong> Real-time data streaming and synchronization</li>
<li><strong>Custom Python Scripts:</strong> ECG R-peak detection algorithm</li>
<li><strong>EEG Processing Pipeline:</strong> Real-time HEP extraction</li>
<li><strong>Phase Detection Module:</strong> Identifies systole/diastole in real-time</li>
</ul>
</div>

<div class="box" style="border-left: 4px solid #ff9800;">
<h4>🎮 Experimental Control</h4>
<ul style="margin-top: 12px; font-size: 0.95rem;">
<li><strong>Dynamic Outcome Timing:</strong> Presents stimuli based on detected cardiac phase</li>
<li><strong>Minimal Latency Design:</strong> Optimized for real-time responsiveness</li>
<li><strong>Phase Synchronization:</strong> Locks outcome presentation to diastole timing</li>
</ul>
</div>
</div>
</section>

<section id="implementation" class="container section" style="background: #f8f9fa; padding: 60px 24px; border-radius: 20px;">
<h2>Key Features</h2>

<div class="columns">
<div class="box">
<h4>1. Real-Time Cardiac Phase Detection</h4>
<p>Continuous ECG monitoring identifies R-peaks as they occur, marking the transition between systole and diastole. The system calculates R-R intervals to predict upcoming cardiac phases.</p>
</div>

<div class="box">
<h4>2. Cardiac Phase Synchronization</h4>
<p>EEG data is synchronized with detected ECG R-peaks, enabling precise phase-based outcome presentation. This alignment is crucial for investigating timing-dependent neural responses.</p>
</div>

<div class="box">
<h4>3. Dynamic Outcome Presentation</h4>
<p>The system adjusts outcome timing based on the participant's cardiac cycle, <strong>particularly targeting specific moments within the diastole phase</strong>. This allows exploration of fine-grained temporal effects.</p>
</div>

<div class="box">
<h4>4. Real-Time EEG Processing</h4>
<p>Lab Streaming Layer (LSL) enables minimal-delay streaming of both EEG and ECG data, critical for maintaining temporal precision in phase-based stimulus delivery.</p>
</div>

<div class="box">
<h4>5. HEP Analysis Pipeline</h4>
<p>Analyzes EEG responses within the diastole phase to identify HEP-related changes due to timing. Compares early vs late diastole presentations to detect potential variations.</p>
</div>

<div class="box">
<h4>6. Modular & Extensible Design</h4>
<p>Custom scripts are designed for flexibility, allowing researchers to modify phase-detection parameters, adjust timing windows, and adapt the experiment for different research questions.</p>
</div>
</div>

<div style="margin-top: 40px; padding: 24px; background: white; border-radius: 12px; box-shadow: 0 4px 20px rgba(0,0,0,0.1);">
<h3 style="margin-bottom: 16px;">Implementation Challenges</h3>
<div class="columns" style="margin-top: 20px;">
<div>
<h4 style="font-size: 1rem; margin-bottom: 8px;">⏱️ Latency Minimization</h4>
<p style="font-size: 0.9rem;">Real-time R-peak detection and phase calculation must happen within milliseconds to ensure outcomes are presented at the intended cardiac moment.</p>
</div>
<div>
<h4 style="font-size: 1rem; margin-bottom: 8px;">🔄 Synchronization Precision</h4>
<p style="font-size: 0.9rem;">Maintaining tight temporal alignment between ECG detection, EEG recording, and stimulus presentation across hardware and software systems.</p>
</div>
<div>
<h4 style="font-size: 1rem; margin-bottom: 8px;">🎯 Individual Variability</h4>
<p style="font-size: 0.9rem;">Heart rate varies between participants and even within sessions, requiring adaptive phase detection algorithms.</p>
</div>
</div>
</div>
</section>

<section class="container section">
<h3>Research Context</h3>
<div class="columns">
<div class="box">
<h4>📄 Original Paper</h4>
<p>This project builds on <a href="https://www.nature.com/articles/s41467-024-46921-5" target="_blank">"Timing along the cardiac cycle modulates neural signals of reward-based learning"</a> by Fouragnan et al. (2024), published in Nature Communications.</p>
</div>

<div class="box">
<h4>🔬 Scientific Contribution</h4>
<p>While the paper established that cardiac phase matters, this implementation explores <em>granular timing effects within diastole</em>—a novel direction that could reveal more nuanced body-brain interactions.</p>
</div>

<div class="box">
<h4>🤝 Collaboration</h4>
<p>Developed in collaboration with <a href="https://github.com/PhiliasTidesLab" target="_blank">PhiliasTidesLab</a>, combining expertise in real-time BCI systems, cardiac physiology, and neuroscience.</p>
</div>
</div>
</section>

<section class="container section" style="text-align: center; max-width: 800px; margin: 0 auto;">
<h3>Get Started</h3>
<p style="margin: 16px 0;">Clone the repository and explore the implementation:</p>
<div style="background: #2d3748; color: #e2e8f0; padding: 16px; border-radius: 8px; font-family: monospace; text-align: left; margin: 24px 0;">
git clone https://github.com/HamedGhaneS/ECG-EEG-Based-BCI.git<br>
cd ECG-EEG-Based-BCI<br>
pip install -r requirements.txt
</div>
<div style="margin-top: 32px;">
<a class="btn btn-primary" href="https://github.com/HamedGhaneS/ECG-EEG-Based-BCI" target="_blank">💻 View Repository on GitHub</a>
</div>
</section>
</main>

<footer class="site-footer">
<div class="container">
<p>© 2024 Hamed Ghane · Real-time Cardiac-Brain BCI · <a href="https://github.com/PhiliasTidesLab" target="_blank" style="color: inherit;">PhiliasTidesLab Collaboration</a></p>
</div>
</footer>
</body>
</html>